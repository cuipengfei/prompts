---
name: multi-source-inquiry
description: 深度研究 - 多源搜索、交叉验证、结构化输出的研究工作流
---

# 多源研究技能

使用所有可用的搜索类 MCP 工具进行深度研究，交叉验证信息，以结构化格式输出结果。

## 执行步骤

### 第一步：确认研究主题

如果用户未提供明确主题：
- 使用 AskUserQuestion 询问研究主题
- 确认研究范围和关注重点

如果主题明确，跳过此步。

### 第二步：广度搜索

**工具选择策略**：
- 盘点当前可用的所有搜索类 MCP 工具（网页搜索、内容抓取、代码搜索、文档查询等）
- 至少使用 **3 种不同** 的搜索工具，确保多源覆盖
- 根据主题性质选择合适的工具组合：
  - 通用信息 → 网页搜索工具
  - 已知 URL → 内容提取/抓取工具
  - 开源项目 → 代码搜索、仓库文档工具
  - 特定数据点 → 结构化数据提取工具

**执行要求**：
- 尽可能并行调用独立的搜索请求（使用多个工具调用在同一消息中）
- 每条搜索结果记录其来源工具和 URL
- 不编造来源或 URL — 只引用实际搜索到的内容

### 第三步：交叉验证

对搜索结果进行信息验证，按可信度分级：

| 标记 | 条件 | 含义 |
|------|------|------|
| `[verified]` | 2+ 个独立来源确认 | 高可信度 |
| `[single-source]` | 仅 1 个来源 | 待验证 |
| `[conflicting]` | 来源间存在矛盾 | 列出各方说法 |

**验证原则**：
- 不确定的信息，显式说明不确定性
- 来源间矛盾时，列出各方观点，不替用户做判断
- 时效性信息标注日期

### 第四步：结构化输出

按以下格式组织结果：

```markdown
## 要点摘要

- [verified] 要点 1
- [single-source] 要点 2
- [conflicting] 要点 3 — 来源 A 认为 X，来源 B 认为 Y

## 详细分析

### 子主题 A

分析内容...

### 子主题 B

分析内容...

## 来源列表

1. [标题](URL) — 简要说明
2. [标题](URL) — 简要说明
```

### 第五步：可选持久化

研究完成后，使用 AskUserQuestion 询问用户：

选项：
- **不保存** — 仅在对话中展示（默认）
- **保存为 Markdown** — 写入 `docs/research/YYYY-MM-DD-<topic>.md`

如果用户选择保存，将结构化输出写入文件。

## 边界情况

### 搜索工具不可用

如果当前环境没有任何搜索类 MCP 工具：

```
当前环境未检测到搜索类 MCP 工具。

深度研究需要至少 2 种搜索工具。请确认 MCP 服务器配置中包含搜索工具（如 content extraction 等）。
```

### 搜索结果为空

如果所有工具都未返回有意义的结果：

```
关于「{topic}」的搜索未返回有价值的结果。

可能原因：
- 主题过于小众或新
- 搜索关键词需要调整

建议：尝试用不同角度的关键词重新搜索，或缩小研究范围。
```

### 单一来源场景

如果所有信息都来自同一来源，在摘要中显式提醒：

```
⚠️ 本次研究结果主要来自单一来源，交叉验证有限。建议对关键结论进行额外确认。
```
